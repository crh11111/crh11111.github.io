import{t as m,o as u,s as h}from"./app.5a4a9871.js";import{s as y}from"./index.c0edad13.js";const A={setup(f){let{musicIds:l}=m(y),s=[];return u(()=>{const e=document.querySelector("head"),r=document.createElement("link");r.rel="stylesheet",r.href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css";const o=document.createElement("script");e.appendChild(r),e.appendChild(o),o.src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js";const c=()=>{const p=Array.from(document.querySelectorAll(".aplayer"));for(let n=0;n<l.value.length;n++){let d=`https://api.i-meto.com/meting/api?server=netease&type=song&id=${l.value[n].value}&r=${Math.random()}`;fetch(d).then(a=>a.json()).then(a=>{const i=getComputedStyle(document.documentElement).getPropertyValue("--c-brand");let t=a[0];s.push(new APlayer({container:p[n],theme:i,loop:"loop",lrcType:3,audio:[{name:t.title,artist:t.author,url:t.url,cover:t.pic,lrc:t.lrc}]}))})}};o.onload=c}),h(()=>{l.value.length=0,s.forEach(e=>{e.destroy()})}),(e,r)=>null}};export{A as default};
