import{t as m,o as d,s as u}from"./app.5a4a9871.js";import{s as h}from"./index.c0edad13.js";const A={setup(y){let{musicIds:l}=m(h),s=[];return d(()=>{const e=document.querySelector("head"),r=document.createElement("link");r.rel="stylesheet",r.href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css";const o=document.createElement("script");o.src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js",e.appendChild(r),e.appendChild(o);const p=setInterval(()=>{try{if(APlayer){clearInterval(p);const c=Array.from(document.querySelectorAll(".aplayer"));for(let n=0;n<l.value.length;n++){let i=`https://api.i-meto.com/meting/api?server=netease&type=song&id=${l.value[n].value}&r=${Math.random()}`;fetch(i).then(a=>a.json()).then(a=>{let t=a[0];s.push(new APlayer({container:c[n],theme:"#9f46f3",loop:"loop",lrcType:3,audio:[{name:t.title,artist:t.author,url:t.url,cover:t.pic,lrc:t.lrc}]}))})}}}catch{}},500)}),u(()=>{l.value.length=0,s.forEach(e=>{e.destroy()})}),(e,r)=>null}};export{A as default};
